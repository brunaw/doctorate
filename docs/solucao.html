<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Quebrando CAPTCHAs</title>
  <meta name="description" content="Tese de doutorado.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Quebrando CAPTCHAs" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Tese de doutorado." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Quebrando CAPTCHAs" />
  
  <meta name="twitter:description" content="Tese de doutorado." />
  

<meta name="author" content="Julio Trecenti">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="problema.html">
<link rel="next" href="resultados.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="introducao.html"><a href="introducao.html"><i class="fa fa-check"></i><b>2</b> Introdução</a><ul>
<li class="chapter" data-level="2.1" data-path="introducao.html"><a href="introducao.html#objetivos"><i class="fa fa-check"></i><b>2.1</b> Objetivos</a></li>
<li class="chapter" data-level="2.2" data-path="introducao.html"><a href="introducao.html#resultados-esperados"><i class="fa fa-check"></i><b>2.2</b> Resultados Esperados</a></li>
<li class="chapter" data-level="2.3" data-path="introducao.html"><a href="introducao.html#organizacao-do-trabalho"><i class="fa fa-check"></i><b>2.3</b> Organização do trabalho</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="problema.html"><a href="problema.html"><i class="fa fa-check"></i><b>3</b> Problema</a><ul>
<li class="chapter" data-level="3.1" data-path="problema.html"><a href="problema.html#variantes"><i class="fa fa-check"></i><b>3.1</b> Variantes</a><ul>
<li class="chapter" data-level="3.1.1" data-path="problema.html"><a href="problema.html#audio"><i class="fa fa-check"></i><b>3.1.1</b> Áudio</a></li>
<li class="chapter" data-level="3.1.2" data-path="problema.html"><a href="problema.html#covariaveis-e-numero-de-respostas-variavel"><i class="fa fa-check"></i><b>3.1.2</b> Covariáveis e número de respostas variável</a></li>
<li class="chapter" data-level="3.1.3" data-path="problema.html"><a href="problema.html#recaptcha"><i class="fa fa-check"></i><b>3.1.3</b> reCaptcha</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="solucao.html"><a href="solucao.html"><i class="fa fa-check"></i><b>4</b> Solução</a><ul>
<li class="chapter" data-level="4.1" data-path="solucao.html"><a href="solucao.html#section"><i class="fa fa-check"></i><b>4.1</b> </a></li>
<li class="chapter" data-level="4.2" data-path="solucao.html"><a href="solucao.html#formas-de-reduzir-o-tamanho-da-amostra"><i class="fa fa-check"></i><b>4.2</b> Formas de reduzir o tamanho da amostra</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="resultados.html"><a href="resultados.html"><i class="fa fa-check"></i><b>5</b> Resultados</a></li>
<li class="chapter" data-level="6" data-path="consideracoes-finais.html"><a href="consideracoes-finais.html"><i class="fa fa-check"></i><b>6</b> Considerações finais</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="7" data-path="pacote-decryptr.html"><a href="pacote-decryptr.html"><i class="fa fa-check"></i><b>7</b> Pacote decryptr</a></li>
<li class="chapter" data-level="8" data-path="captchas-em-audio.html"><a href="captchas-em-audio.html"><i class="fa fa-check"></i><b>8</b> CAPTCHAs em áudio</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Quebrando CAPTCHAs</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="solucao" class="section level1">
<h1><span class="header-section-number">Capítulo 4</span> Solução</h1>
<div id="section" class="section level2">
<h2><span class="header-section-number">4.1</span> </h2>
<p><span class="citation">(Ahn, Blum, and Langford <a href="#ref-von2002telling">2002</a>)</span> define captchas pela primeira vez</p>
<p><span class="citation">(Von Ahn et al. <a href="#ref-von2003captcha">2003</a>)</span> define um problema de resolver captcha como um problema de inteligência artificial.</p>
<p><span class="citation">(Mori and Malik <a href="#ref-mori2003recognizing">2003</a>)</span> apresenta uma solução rudimentar para o problema a partir de cortes em imagens. O modelo final acerta somente 33% dos casos.</p>
<p><span class="citation">(Yan and El Ahmad <a href="#ref-yan2008low">2008</a><a href="#ref-yan2008low">a</a>)</span> criam um modelo de quebrar captcha baseado em diversas heurísticas.</p>
<p><span class="citation">(Yan and El Ahmad <a href="#ref-yan2008usability">2008</a><a href="#ref-yan2008usability">b</a>)</span> usability issues in CAPTCHA design</p>
<p><span class="citation">(Golle <a href="#ref-golle2008machine">2008</a>)</span> utilizam SVM</p>
<p><span class="citation">(Motoyama et al. <a href="#ref-motoyama2010re">2010</a>)</span> estudam o aspecto economico dos recaptchas</p>
<p><span class="citation">(Bursztein, Martin, and Mitchell <a href="#ref-bursztein2011text">2011</a>)</span> testam varios modelos em 15 captchas diferentes</p>
<p><span class="citation">(Bursztein et al. <a href="#ref-bursztein2014end">2014</a>)</span> mostram um modelo de reinforcement</p>
<hr />
<p>Um problema de resolver o CAPTCHA diretamente é que a variável resposta <span class="math inline">\(\mathbf y\)</span> tem um número exponencial de combinações. Na formulação do capítulo anterior, nossa resposta é uma palavra de <span class="math inline">\(L\)</span> caracteres, sendo que cada caractere <span class="math inline">\(c_j\)</span> pode ter <span class="math inline">\(|\mathcal A|\)</span> valores. Nessa construção, o total de combinações é <span class="math inline">\(|\mathcal A|^L\)</span>.</p>
<p>Por exemplo, um CAPTCHA com <span class="math inline">\(L=6\)</span> letras e <span class="math inline">\(|\mathcal A| = 36\)</span> possibilidades em cada letra (26 letras do alfabeto e 10 algarismos), possui um total de 2.176.782.336 (&gt; 2 bilhões) combinações. Modelar essas imagens diretamente através de uma única variável resposta categórica é inviável.</p>
<p>Por isso, uma forma de resolver CAPTCHAs é separando o problema em duas tarefas: segmentar e classificar. A tarefa de segmentação consiste em receber uma imagem com várias letras e detectar pontos de corte, separando-a em várias imagens de uma letra. Já a classificação consiste em receber uma imagem com uma letra e identificar o caractere correspondente. Nesse caso, a resposta é reduzida para <span class="math inline">\(|\mathcal A|\)</span> categorias, que cresce linearmente e, portanto, tratável.</p>
<p>[img-fluxo]</p>
<p>A literatura mostra através de estudos empíricos que a tarefa de segmentar é mais difícil do que a tarefa de classificar <span class="citation">(Bursztein et al. <a href="#ref-bursztein2014end">2014</a>)</span>. Isso acontece porque o problema de classificação de letras segmentadas é similar ao problema de reconhecimento de caracteres (<em>Optical Character Recognition</em>, OCR), que é amplamente estudado e pode ser considerado resolvido. A segmentação, no entanto, é um problema em aberto e faz parte da literatura de oclusão de objetos em visão computacional.</p>
<p>Por esse motivo, os desenvolvedores de CAPTCHAs de imagens baseadas em texto têm explorado métodos de dificultar a segmentação. As principais formas são i) colar os caracteres e ii) adicionar linhas ligando os dígitos. Essas técnicas são combinadas com a adição de ruído e distorção de caracteres para compor a imagem final.</p>
<p>Vamos usar como exemplo o CAPTCHA do Tribunal de Justiça de Minas Gerais (TJMG). Nesse caso, temos <span class="math inline">\(L=4\)</span> e <span class="math inline">\(|\mathcal A|=10\)</span>, apenas os dez algarismos.</p>
<p>A Figura <a href="solucao.html#fig:tjmg1">4.1</a> mostra um exemplo do captcha do TJMG. Podemos notar a utilização de distorção de catacteres e adição de linhas ligando os dígitos como formas de evitar a resolução automática.</p>
<div class="figure"><span id="fig:tjmg1"></span>
<img src="jtrecenti_doctorate_captcha_files/figure-html/tjmg1-1.svg" alt="CAPTCHA do TJMG." width="384" />
<p class="caption">
Figura 4.1: CAPTCHA do TJMG.
</p>
</div>
<p>Nesse caso, é podemos resolver o problema da segmentação realizando cortes fixos na imagem. Podemos também limitar os eixos <code>x</code>, tirando os espaços vazios à esquerda e à direita e <code>y</code>, removendo espaços superiores e inferiores. Por último, transformamos a imagem em escala de cinza. O resultado dessas operações de pré-processamento estão na Figura <a href="solucao.html#fig:tjmg2">4.2</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">op &lt;-<span class="st"> </span>graphics<span class="op">::</span><span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">rep</span>(<span class="dv">0</span>, <span class="dv">4</span>))
arq_captcha <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">read_captcha</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">first</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">with</span>(x) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>magrittr<span class="op">::</span><span class="kw">extract</span>(<span class="op">-</span><span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">7</span>, <span class="dv">34</span><span class="op">:</span><span class="kw">dim</span>(.)[<span class="dv">1</span>]), <span class="op">-</span><span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">06</span>, <span class="dv">107</span><span class="op">:</span><span class="kw">dim</span>(.)[<span class="dv">2</span>]), <span class="ot">TRUE</span>) <span class="op">%&gt;%</span>
<span class="st">  </span>grDevices<span class="op">::</span><span class="kw">as.raster</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>graphics<span class="op">::</span><span class="kw">plot</span>()
<span class="kw">abline</span>(<span class="dt">v =</span> <span class="dv">20</span> <span class="op">*</span><span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dt">col =</span> <span class="st">&#39;red&#39;</span>)
<span class="kw">abline</span>(<span class="dt">h =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">26</span>), <span class="dt">col =</span> <span class="st">&#39;blue&#39;</span>)</code></pre></div>
<div class="figure"><span id="fig:tjmg2"></span>
<img src="jtrecenti_doctorate_captcha_files/figure-html/tjmg2-1.svg" alt="CAPTCHA do TJMG após segmentação." width="384" />
<p class="caption">
Figura 4.2: CAPTCHA do TJMG após segmentação.
</p>
</div>
<p>O resultado são cinco imagens de dimensões <code>26x20</code>, associadas a cada caractere. O próximo passo é transformar o banco de dados num formato tratável por modelos tradicionais de regressão. Para isso, colocamos cada pixel em uma coluna da nossa base de dados. No caso do TJMG, cada CAPTCHA gera uma tabela de 5 linhas e 520 (<code>26 * 20</code>) colunas. A Tabela <a href="solucao.html#tab:imgsep">4.1</a> mostra as primeiras seis colunas dessa base.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">arq_captcha <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">read_captcha</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">first</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">with</span>(x) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>magrittr<span class="op">::</span><span class="kw">extract</span>(<span class="op">-</span><span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">7</span>, <span class="dv">34</span><span class="op">:</span><span class="kw">dim</span>(.)[<span class="dv">1</span>]), <span class="op">-</span><span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">06</span>, <span class="dv">107</span><span class="op">:</span><span class="kw">dim</span>(.)[<span class="dv">2</span>]), <span class="ot">TRUE</span>) <span class="op">%&gt;%</span>
<span class="st">  </span>tibble<span class="op">::</span><span class="kw">as_tibble</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>tibble<span class="op">::</span><span class="kw">rownames_to_column</span>(<span class="st">&#39;y&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>tidyr<span class="op">::</span><span class="kw">gather</span>(x, value, <span class="op">-</span>y) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate_at</span>(dplyr<span class="op">::</span><span class="kw">vars</span>(x, y), dplyr<span class="op">::</span><span class="kw">funs</span>(readr<span class="op">::</span>parse_number)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">letra =</span> (x <span class="op">-</span><span class="st"> </span><span class="dv">1</span>) <span class="op">%/%</span><span class="st"> </span><span class="dv">20</span> <span class="op">+</span><span class="st"> </span><span class="dv">1</span>, <span class="dt">x =</span> x <span class="op">-</span><span class="st"> </span>(letra <span class="op">-</span><span class="st"> </span><span class="dv">1</span>) <span class="op">*</span><span class="st"> </span><span class="dv">20</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate_at</span>(dplyr<span class="op">::</span><span class="kw">vars</span>(x, y), dplyr<span class="op">::</span><span class="kw">funs</span>(<span class="kw">sprintf</span>(<span class="st">&#39;%02d&#39;</span>, .))) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>tidyr<span class="op">::</span><span class="kw">unite</span>(xy, x, y) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>tidyr<span class="op">::</span><span class="kw">spread</span>(xy, value, <span class="dt">sep =</span> <span class="st">&#39;&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">y =</span> <span class="kw">c</span>(<span class="st">&#39;7&#39;</span>, <span class="st">&#39;3&#39;</span>, <span class="st">&#39;2&#39;</span>, <span class="st">&#39;4&#39;</span>, <span class="st">&#39;6&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(y, dplyr<span class="op">::</span><span class="kw">everything</span>(), <span class="op">-</span>letra) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">7</span>) <span class="op">%&gt;%</span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate_at</span>(dplyr<span class="op">::</span><span class="kw">vars</span>(<span class="op">-</span>y), dplyr<span class="op">::</span><span class="kw">funs</span>(<span class="kw">round</span>(., <span class="dv">3</span>))) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>(<span class="dt">caption =</span> <span class="st">&quot;Base de dados montada a partir de imagem segmentada.&quot;</span>)</code></pre></div>
<table>
<caption><span id="tab:imgsep">Tabela 4.1: </span>Base de dados montada a partir de imagem segmentada.</caption>
<thead>
<tr class="header">
<th align="left">y</th>
<th align="right">xy01_01</th>
<th align="right">xy01_02</th>
<th align="right">xy01_03</th>
<th align="right">xy01_04</th>
<th align="right">xy01_05</th>
<th align="right">xy01_06</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">7</td>
<td align="right">0.769</td>
<td align="right">0.769</td>
<td align="right">0.769</td>
<td align="right">0.769</td>
<td align="right">0.769</td>
<td align="right">0.773</td>
</tr>
<tr class="even">
<td align="left">3</td>
<td align="right">0.005</td>
<td align="right">0.141</td>
<td align="right">0.316</td>
<td align="right">0.430</td>
<td align="right">0.356</td>
<td align="right">0.319</td>
</tr>
<tr class="odd">
<td align="left">2</td>
<td align="right">0.846</td>
<td align="right">0.851</td>
<td align="right">0.830</td>
<td align="right">0.796</td>
<td align="right">0.800</td>
<td align="right">0.842</td>
</tr>
<tr class="even">
<td align="left">4</td>
<td align="right">0.886</td>
<td align="right">0.886</td>
<td align="right">0.890</td>
<td align="right">0.890</td>
<td align="right">0.890</td>
<td align="right">0.890</td>
</tr>
<tr class="odd">
<td align="left">6</td>
<td align="right">0.925</td>
<td align="right">0.925</td>
<td align="right">0.929</td>
<td align="right">0.929</td>
<td align="right">0.929</td>
<td align="right">0.933</td>
</tr>
</tbody>
</table>
<p>Agora basta rodar o mesmo para toda a base de treino e rodar um modelo. Nesse exemplo, utilizamos uma base de 1500 CAPTCHAs classificados. O resultado após o pré-processamento é uma base com 7500 linhas e 520 colunas. Escolhemos manter 6000 linhas para treino e as 1500 restantes para teste. Utilizamos um modelo de florestas aleatórias para o exemplo <span class="citation">(Breiman <a href="#ref-breiman2001random">2001</a>)</span>.</p>
<p>O resultado do modelo pode ser verificado na Tabela <a href="#tab:errosTJMG"><strong>??</strong></a>, que mostra os observados <em>versus</em> preditos na base de teste. O acerto foi de 99.6% em cada caractere. Assumindo que o erro não depende da posição do caractere no CAPTCHA, o acerto para a imagem completa é de aproximadamente 98%.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d_test <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">pred =</span> <span class="kw">predict</span>(model_rf, <span class="dt">newdata =</span> .)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">count</span>(y, pred) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>tidyr<span class="op">::</span><span class="kw">spread</span>(pred, n, <span class="dt">fill =</span> <span class="st">&#39;.&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>tibble<span class="op">::</span><span class="kw">remove_rownames</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>(<span class="dt">caption =</span> <span class="st">&#39;Tabela de acertos e erros.&#39;</span>)</code></pre></div>
<p>O resultado para o TJMG é bastante satisfatório, mas não generaliza para outros CAPTCHAs. Tome por exemplo o CAPTCHA da Receita Federal (RFB) da Figura <a href="solucao.html#fig:generalize">4.3</a>. Nesse caso, a posição dos caracteres muda significativamente de imagem para imagem, e assim fica difícil cortar em pedaços.</p>
<div class="figure"><span id="fig:generalize"></span>
<img src="jtrecenti_doctorate_captcha_files/figure-html/generalize-1.svg" alt="CAPTCHA Receita Federal" width="12%" />
<p class="caption">
Figura 4.3: CAPTCHA Receita Federal
</p>
</div>
<div class="figure"><span id="fig:generalize"></span>
<img src="jtrecenti_doctorate_captcha_files/figure-html/generalize-2.svg" alt="CAPTCHA Receita Federal" width="12%" />
<p class="caption">
Figura 4.3: CAPTCHA Receita Federal
</p>
</div>
<div class="figure"><span id="fig:generalize"></span>
<img src="jtrecenti_doctorate_captcha_files/figure-html/generalize-3.svg" alt="CAPTCHA Receita Federal" width="12%" />
<p class="caption">
Figura 4.3: CAPTCHA Receita Federal
</p>
</div>
<div class="figure"><span id="fig:generalize"></span>
<img src="jtrecenti_doctorate_captcha_files/figure-html/generalize-4.svg" alt="CAPTCHA Receita Federal" width="12%" />
<p class="caption">
Figura 4.3: CAPTCHA Receita Federal
</p>
</div>
<p>A mesma técnica aplicada ao CAPTCHA RFB apresentou acerto de 78.8% do caractere, o que equivale a apenas 23.8% de acerto para toda a imagem. Claro que seria possível melhorar o poder preditivo com ajustes nos hipeparâmetros do modelo, mas o problema essencial nesse caso está na qualidade segmentação, e não na classificação dos caracteres.</p>
<p>Por isso, faz-se necessária uma abordagem que trata o problema completo, sem passar explicitamente pela fase de segmentação. Ao invés de cortar a imagem, vamos extrair detalhes da imagem completa automaticamente e utilizar essas características como variáveis preditoras num modelo de regressão. Chamaremos essa abordagem de <em>deep learning</em>.</p>
</div>
<div id="formas-de-reduzir-o-tamanho-da-amostra" class="section level2">
<h2><span class="header-section-number">4.2</span> Formas de reduzir o tamanho da amostra</h2>
<ul>
<li>Ensemble</li>
<li>Data augmentation / geradores</li>
<li>Tesseract</li>
<li>Feedback</li>
<li>manual</li>
<li>oráculo</li>
</ul>
<pre><code>FALSE [1] &quot;setosa&quot;     &quot;versicolor&quot; &quot;virginica&quot;</code></pre>
<pre><code>FALSE [1] &quot;setosa&quot;     &quot;versicolor&quot; &quot;virginica&quot;</code></pre>

</div>
</div>
<h3> CAPTCHAs em áudio</h3>
<div id="refs" class="references">
<div id="ref-von2002telling">
<p>Ahn, Louis von, Manuel Blum, and John Langford. 2002. “Telling Humans and Computers Apart Automatically or How Lazy Cryptographers Do Ai.” <em>Computer Science Department</em>, 149.</p>
</div>
<div id="ref-von2003captcha">
<p>Von Ahn, Luis, Manuel Blum, Nicholas J Hopper, and John Langford. 2003. “CAPTCHA: Using Hard Ai Problems for Security.” In <em>International Conference on the Theory and Applications of Cryptographic Techniques</em>, 294–311. Springer.</p>
</div>
<div id="ref-mori2003recognizing">
<p>Mori, Greg, and Jitendra Malik. 2003. “Recognizing Objects in Adversarial Clutter: Breaking a Visual Captcha.” In <em>Computer Vision and Pattern Recognition, 2003. Proceedings. 2003 Ieee Computer Society Conference on</em>, 1:I–I. IEEE.</p>
</div>
<div id="ref-yan2008low">
<p>Yan, Jeff, and Ahmad Salah El Ahmad. 2008a. “A Low-Cost Attack on a Microsoft Captcha.” In <em>Proceedings of the 15th Acm Conference on Computer and Communications Security</em>, 543–54. ACM.</p>
</div>
<div id="ref-yan2008usability">
<p>Yan, Jeff, and Ahmad Salah El Ahmad. 2008b. “Usability of Captchas or Usability Issues in Captcha Design.” In <em>Proceedings of the 4th Symposium on Usable Privacy and Security</em>, 44–52. ACM.</p>
</div>
<div id="ref-golle2008machine">
<p>Golle, Philippe. 2008. “Machine Learning Attacks Against the Asirra Captcha.” In <em>Proceedings of the 15th Acm Conference on Computer and Communications Security</em>, 535–42. ACM.</p>
</div>
<div id="ref-motoyama2010re">
<p>Motoyama, Marti, Kirill Levchenko, Chris Kanich, Damon McCoy, Geoffrey M Voelker, and Stefan Savage. 2010. “Re: CAPTCHAs-Understanding Captcha-Solving Services in an Economic Context.” In <em>USENIX Security Symposium</em>, 10:3.</p>
</div>
<div id="ref-bursztein2011text">
<p>Bursztein, Elie, Matthieu Martin, and John Mitchell. 2011. “Text-Based Captcha Strengths and Weaknesses.” In <em>Proceedings of the 18th Acm Conference on Computer and Communications Security</em>, 125–38. ACM.</p>
</div>
<div id="ref-bursztein2014end">
<p>Bursztein, Elie, Jonathan Aigrain, Angelika Moscicki, and John C Mitchell. 2014. “The End Is Nigh: Generic Solving of Text-Based Captchas.” In <em>WOOT</em>.</p>
</div>
<div id="ref-breiman2001random">
<p>Breiman, Leo. 2001. “Random Forests.” <em>Machine Learning</em> 45 (1). Springer: 5–32.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="problema.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="resultados.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/yihui/bookdown-crc/edit/master/03-solution.Rmd",
"text": "Edit"
},
"download": ["jtrecenti_doctorate_captcha.pdf", "jtrecenti_doctorate_captcha.epub"],
"toc": {
"collapse": "none"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
